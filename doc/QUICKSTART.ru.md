# Краткое руководство

Это руководство поможет вам быстро начать работу с репозиторием Seranov для Kodi и плагинами-службами.

## Установка

### Установка репозитория

1. **Скачайте аддон репозитория:**
   - Перейдите в [releases](https://github.com/seranov/kodi-play-random/releases) или в директорию `repo`
   - Скачайте `repository.seranov-1.0.0.zip`

2. **Установите в Kodi:**
   - Откройте Kodi
   - Перейдите в **Настройки** (значок шестеренки) → **Дополнения**
   - Нажмите **Установить из файла zip**
   - Укажите путь к скачанному файлу `repository.seranov-1.0.0.zip`
   - Дождитесь уведомления "Дополнение установлено"

3. **Просмотр доступных аддонов:**
   - Перейдите в **Настройки** → **Дополнения** → **Установить из репозитория**
   - Выберите **Seranov's Kodi Repository**
   - Просмотрите категории для поиска доступных аддонов

### Установка отдельных плагинов-служб

Если вы хотите установить плагин-службу без репозитория:

1. Скачайте zip-файл плагина-службы (например, `service.seranov.template1-1.0.0.zip`)
2. В Kodi перейдите в **Настройки** → **Дополнения** → **Установить из файла zip**
3. Укажите путь к скачанному zip-файлу и установите

## Использование плагинов-служб

### Шаблон службы 1

Базовая фоновая служба, которая работает периодически.

**Конфигурация:**
1. Перейдите в **Настройки** → **Дополнения** → **Мои дополнения** → **Службы**
2. Выберите **Service Template 1**
3. Нажмите **Настроить**
4. Настройте параметры:
   - **Интервал проверки**: Как часто служба запускается (в секундах)
   - **Включить уведомления**: Показывать уведомления
   - **Режим отладки**: Включить подробное логирование

**Что она делает:**
- Работает в фоновом режиме
- Выполняет задачи с указанным интервалом
- Может быть настроена для выполнения любых периодических задач

### Шаблон службы 2

Расширенная служба, которая отслеживает события Kodi.

**Конфигурация:**
1. Перейдите в **Настройки** → **Дополнения** → **Мои дополнения** → **Службы**
2. Выберите **Service Template 2**
3. Нажмите **Настроить**
4. Настройте параметры:
   - **Включить мониторинг воспроизведения**: Отслеживать когда медиа воспроизводится/останавливается
   - **Включить уведомления**: Показывать уведомления
   - **Режим отладки**: Включить подробное логирование

**Что она делает:**
- Отслеживает события воспроизведения (старт, стоп)
- Реагирует на уведомления Kodi
- Может быть расширена для обработки различных событий Kodi

### Включение/отключение служб

Для включения или отключения службы:
1. Перейдите в **Настройки** → **Дополнения** → **Мои дополнения** → **Службы**
2. Выберите службу
3. Нажмите **Включить** или **Отключить**

### Просмотр логов служб

Для проверки правильности работы службы:

1. Включите **Логирование отладки**:
   - Перейдите в **Настройки** → **Система** → **Логирование**
   - Включите **Включить логирование отладки**

2. Просмотрите файл лога:
   - **Linux/macOS**: `~/.kodi/temp/kodi.log`
   - **Windows**: `%APPDATA%\Kodi\kodi.log`
   - **Android**: Используйте приложение для просмотра логов или adb

3. Ищите сообщения от вашей службы:
   ```
   [service.seranov.template1] Service Template 1 v1.0.0 started
   [service.seranov.template1] Service is running...
   ```

## Разработка собственного плагина-службы

Хотите создать свой плагин-службу? См. [CONTRIBUTING.ru.md](CONTRIBUTING.ru.md) для полного руководства.

### Быстрая настройка разработки

1. **Скопируйте шаблон:**
   ```bash
   cp -r service.seranov.template1 service.seranov.myplugin
   ```

2. **Обновите метаданные:**
   - Отредактируйте `addon.xml` с деталями вашего плагина
   - Обновите строки в `resources/language/resource.language.en_gb/strings.xml`

3. **Реализуйте вашу логику:**
   - Отредактируйте `service.py` для добавления вашей пользовательской функциональности

4. **Тестируйте локально:**
   - Скопируйте в директорию аддонов Kodi
   - Перезапустите Kodi
   - Включите службу

5. **Соберите репозиторий:**
   ```bash
   python3 scripts/generate_repo.py
   ```

## Устранение неполадок

### Служба не запускается

1. Проверьте, включена ли служба:
   - **Настройки** → **Дополнения** → **Мои дополнения** → **Службы** → Выберите вашу службу → **Включить**

2. Проверьте лог Kodi на наличие ошибок:
   - Включите логирование отладки
   - Ищите сообщения об ошибках, связанные с вашей службой

3. Проверьте зависимости:
   - Убедитесь, что все необходимые зависимости установлены

### Служба работает не так, как ожидается

1. Включите режим отладки в настройках службы
2. Проверьте лог Kodi на наличие подробных сообщений
3. Проверьте правильность ваших настроек
4. Протестируйте с простым действием для выявления проблемы

### Изменения не вступают в силу

1. Отключите службу
2. Перезапустите Kodi
3. Включите службу снова

## Обновления репозитория

Для обновления аддонов из репозитория:

1. Репозиторий автоматически проверяет обновления
2. Перейдите в **Настройки** → **Дополнения** → **Мои дополнения**
3. Выберите аддон с доступным обновлением
4. Нажмите **Обновить**

Или обновите все аддоны сразу:
- **Настройки** → **Дополнения** → **Обновления** → **Обновить все**

## Поддержка

По вопросам, проблемам или для участия в разработке:
- GitHub Issues: [https://github.com/seranov/kodi-play-random/issues](https://github.com/seranov/kodi-play-random/issues)
- Email: seranov@yandex.ru

## Ссылки

- [README.ru.md](README.ru.md) - Полная документация
- [CONTRIBUTING.ru.md](CONTRIBUTING.ru.md) - Руководство по разработке
- [Разработка аддонов для Kodi](https://kodi.wiki/view/Add-on_development)
