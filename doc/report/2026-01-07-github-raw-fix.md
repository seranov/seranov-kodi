# Отчет: Исправление документации по установке репозитория Kodi

**Дата:** 2026-01-07  
**Задача:** Исправление неверных инструкций по установке репозитория через GitHub Raw URL

## Проблема

При попытке добавить источник `https://raw.githubusercontent.com/seranov/seranov-kodi/main/repo/` в Kodi возникала ошибка 400:

```
CCurlFile::Open - <https://raw.githubusercontent.com/.../repo/> Failed with code 400
XFILE::CHTTPDirectory::GetDirectory - Unable to get http directory
```

**Причина:** GitHub Raw (`raw.githubusercontent.com`) не поддерживает листинг директорий через HTTP. Kodi нуждается в возможности просмотра содержимого директории для работы с репозиториями, что невозможно с GitHub Raw.

## Решение

Обновлена документация во всех файлах, где присутствовали неверные инструкции или неработающие URL.

### Изменённые файлы

#### 1. `doc/INSTALLATION.ru.md`
- ✅ Удалён "Способ 2: Добавление источника репозитория" (не работает)
- ✅ Удалён "Способ 3: Через File Manager" (не работает)
- ✅ Переименован "Способ 3" → "Способ 2: Установка отдельного аддона"
- ✅ Добавлен раздел "Автоматические обновления (в будущем)" с объяснением ограничений
- ✅ Добавлен раздел в "Устранение неполадок" про ошибку 400 GitHub Raw
- ✅ Обновлён раздел "Обновление аддонов" (убрана информация об автообновлениях)

#### 2. `doc/INSTALLATION.md`
- ✅ Удалён "Option 2: Add Repository Source" (не работает)
- ✅ Переименован "Option 3" → "Option 2: Install Individual Add-on"
- ✅ Добавлен раздел "Automatic Updates (Future)" с объяснением
- ✅ Добавлен troubleshooting раздел про ошибку 400

#### 3. `README.md`
- ✅ Удалён неработающий "Repository URL for Kodi"
- ✅ Добавлено примечание про ограничения GitHub Raw

#### 4. `doc/README.ru.md`
- ✅ Удалён неработающий "URL репозитория для Kodi"
- ✅ Добавлено примечание про ограничения GitHub Raw

#### 5. `scripts/README.md`
- ✅ Удалён "Способ 2: Добавление источника репозитория"
- ✅ Переименован "Способ 3" → "Способ 2"
- ✅ Обновлён раздел "URL репозитория" с предупреждением о GitHub Raw
- ✅ Удалён "URL источника репозитория (для автообновлений)"

#### 6. `doc/RELEASE_NOTES.md`
- ✅ Удалены неработающие "Direct repository URL" в обеих языковых версиях
- ✅ Добавлены примечания про ограничения GitHub Raw

#### 7. `doc/RELEASE_COMPLETE.md`
- ✅ Удалён "Repository URL for Kodi"
- ✅ Добавлено примечание про ограничения и правильный способ установки

#### 8. `doc/RELEASE_CHECKLIST.md`
- ✅ Изменено "Auto-Update Ready" → "Manual Updates"
- ✅ Обновлены технические детали
- ✅ Удалён "Raw Repo URL" из Quick Links

## Рекомендуемый способ установки

**Единственный рабочий метод:**
1. Скачать `repository.seranov-1.0.0.zip` из GitHub Releases
2. Установить через Kodi: **Дополнения** → **Установить из файла zip**
3. После установки репозитория устанавливать аддоны через **Установить из репозитория**

## Что НЕ работает

❌ Добавление `https://raw.githubusercontent.com/.../repo/` как источника в File Manager  
❌ Автоматические обновления через Kodi (требуется GitHub Pages)

## Что работает

✅ Прямая установка ZIP-файла репозитория  
✅ Установка отдельных аддонов из ZIP  
✅ Доступ к addons.xml через прямой URL (но не к директории)

## Будущие улучшения

Для поддержки автоматических обновлений необходимо:
- Настроить GitHub Pages для хостинга репозитория
- Или использовать другой веб-хостинг с поддержкой листинга директорий

## Заключение

Документация приведена в соответствие с реальными возможностями GitHub Raw. Пользователи больше не будут получать ошибки 400 при попытке следовать инструкциям.

Все инструкции теперь указывают на единственный рабочий метод: прямую установку ZIP-файла.

